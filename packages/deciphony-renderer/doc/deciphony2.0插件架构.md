#### 前言：

deciphony第一版的五线谱打谱包括进行中的简线转换。虽然可以勉强进行下去，但是我搞混了展示数据和演奏数据。一整个musicScore类型要兼顾演奏和展示，甚至转换为简谱还要更改其内容。所以我不想再进行下去了



#### 注意事项

经过deciphony第一版的经验，要预留皮肤切换、volta、连音线、符杠、插槽的开发



### 新型架构：

新型架构以快速上线替代金三惠插件为目的，所以尽可能缩减功能，但是也要为未来考虑留出代码预留



+ packages
  + deciphony-player 内置将五线谱，简谱数据等转换为播放数据的函数
  + deciphony-renderer 五线谱，简谱数据， 只负责展示



搭建私有npm库



播放类型（自建，不考虑midi,怕有未知因素） 

展示类型

+ 五线谱
  + 对应编辑函数
+ 简谱
  + 对应编辑函数



插槽



点击事件



#### 插件

+ 歌词插件
+ 五线谱编辑插件（对音符事件等进行开发）
+ 简谱编辑插件（对音符事件等进行开发）
+ 段落选择插件（这个应该简单）
+ 音符高亮插件





#### 外置函数

+ 曲谱播放函数（这个把曲谱类型转换成deciphony-player的播放序列）



范唱伴奏，谱音同步，测评模式，钢琴谱，供内部人员编辑的曲谱编辑系统



需要同步开发的其它插件

#### deciphony-player

#### white-board

+ 对应的函数工厂，实现曲谱预制白板

#### 插件依赖管理器（ai生成）



#### 自己不打算弄的

+ 框选插件
+ 指针模式插件
+ ai播放的其它模式插件
+ 测评模式